{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./consume-api.service\";\nimport * as i2 from \"@angular/common\";\nfunction AppComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h1\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.producto.model);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.producto.image || \"https://via.placeholder.com/200\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Precio: \", ctx_r0.producto.price, \" \", ctx_r0.producto.currency, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.producto.description);\n  }\n}\nfunction AppComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Cargando producto...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.errorMessage);\n  }\n}\nexport class AppComponent {\n  constructor(consumeApi) {\n    this.consumeApi = consumeApi;\n    this.title = 'clienteApiProducto';\n    this.errorMessage = null; // Variable para manejar errores\n  }\n\n  ngOnInit() {\n    // Llamada a la API con manejo de errores\n    this.consumeApi.getProductoAleatorio().subscribe({\n      next: data => {\n        this.producto = data; // Asignamos el producto\n        this.errorMessage = null; // Si la llamada fue exitosa, reseteamos el mensaje de error\n      },\n\n      error: err => {\n        this.errorMessage = 'No se pudo cargar el producto. Intenta de nuevo más tarde.'; // Error al hacer la solicitud\n        console.error(err); // Para depuración, puedes ver el error en la consola\n      }\n    });\n  }\n\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ConsumeApiService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 4,\n      vars: 3,\n      consts: [[\"class\", \"producto\", 4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"producto\"], [1, \"modelo\"], [1, \"imageContainer\"], [\"alt\", \"Imagen del producto\", \"width\", \"200\", 3, \"src\"], [1, \"precio\"], [1, \"descripcion\"], [1, \"error\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, AppComponent_div_0_Template, 9, 5, \"div\", 0);\n          i0.ɵɵtemplate(1, AppComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵtemplate(3, AppComponent_div_3_Template, 3, 1, \"div\", 2);\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.producto)(\"ngIfElse\", _r1);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        }\n      },\n      dependencies: [i2.NgIf],\n      styles: [\".error[_ngcontent-%COMP%] {\\n  color: red;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNFLFVBQUE7RUFDQSxpQkFBQTtBQUFOIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLmVycm9yIHtcbiAgICAgIGNvbG9yOiByZWQ7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","producto","model","ɵɵproperty","image","ɵɵsanitizeUrl","ɵɵtextInterpolate2","price","currency","description","ctx_r3","errorMessage","AppComponent","constructor","consumeApi","title","ngOnInit","getProductoAleatorio","subscribe","next","data","error","err","console","ɵɵdirectiveInject","i1","ConsumeApiService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_div_0_Template","AppComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","AppComponent_div_3_Template","_r1"],"sources":["C:\\Users\\DAW2\\Documents\\angular\\apiProductos\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ConsumeApiService } from './consume-api.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  template: `\r\n    <div *ngIf=\"producto; else loading\" class=\"producto\">\r\n      <h1 class=\"modelo\">{{ producto.model}}</h1>\r\n      <div class=\"imageContainer\">\r\n      <img [src]=\"producto.image || 'https://via.placeholder.com/200'\" alt=\"Imagen del producto\" width=\"200\" />\r\n      </div>\r\n      <p class=\"precio\">Precio: {{ producto.price }} {{producto.currency}}</p>\r\n      <p class=\"descripcion\" >{{ producto.description }}</p>\r\n    </div>\r\n    \r\n    <!-- Template para mostrar mensaje mientras carga -->\r\n    <ng-template #loading>\r\n      <p>Cargando producto...</p>\r\n    </ng-template>\r\n    \r\n    <!-- Manejo de errores -->\r\n    <div *ngIf=\"errorMessage\" class=\"error\">\r\n      <p>{{ errorMessage }}</p>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .error {\r\n      color: red;\r\n      font-weight: bold;\r\n    }\r\n  `]\r\n})\r\nexport class AppComponent implements OnInit {\r\n  producto: any;\r\n  title = 'clienteApiProducto';\r\n  errorMessage: string | null = null; // Variable para manejar errores\r\n\r\n  constructor(private consumeApi: ConsumeApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Llamada a la API con manejo de errores\r\n    this.consumeApi.getProductoAleatorio().subscribe({\r\n      next: (data) => {\r\n        this.producto = data; // Asignamos el producto\r\n        this.errorMessage = null; // Si la llamada fue exitosa, reseteamos el mensaje de error\r\n      },\r\n      error: (err) => {\r\n        this.errorMessage = 'No se pudo cargar el producto. Intenta de nuevo más tarde.'; // Error al hacer la solicitud\r\n        console.error(err); // Para depuración, puedes ver el error en la consola\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}