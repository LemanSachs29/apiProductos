{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./consume-api.service\";\nimport * as i2 from \"@angular/common\";\nfunction AppComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h1\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.producto.model);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.producto.image || \"https://via.placeholder.com/200\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Precio: \", ctx_r0.producto.price, \" \", ctx_r0.producto.currency, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.producto.description);\n  }\n}\nfunction AppComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Cargando producto...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.errorMessage);\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(consumeApi) {\n      this.consumeApi = consumeApi;\n      this.title = 'clienteApiProducto';\n      this.errorMessage = null; // Variable para manejar errores\n    }\n\n    ngOnInit() {\n      // Llamada a la API con manejo de errores\n      this.consumeApi.getProductoAleatorio().subscribe({\n        next: data => {\n          this.producto = data; // Asignamos el producto\n          this.errorMessage = null; // Si la llamada fue exitosa, reseteamos el mensaje de error\n        },\n\n        error: err => {\n          this.errorMessage = 'No se pudo cargar el producto. Intenta de nuevo más tarde.'; // Error al hacer la solicitud\n          console.error(err); // Para depuración, puedes ver el error en la consola\n        }\n      });\n    }\n\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ConsumeApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        decls: 4,\n        vars: 3,\n        consts: [[\"class\", \"producto\", 4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"producto\"], [1, \"modelo\"], [1, \"imageContainer\"], [\"alt\", \"Imagen del producto\", \"width\", \"200\", 3, \"src\"], [1, \"precio\"], [1, \"descripcion\"], [1, \"error\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, AppComponent_div_0_Template, 9, 5, \"div\", 0);\n            i0.ɵɵtemplate(1, AppComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵtemplate(3, AppComponent_div_3_Template, 3, 1, \"div\", 2);\n          }\n          if (rf & 2) {\n            const _r1 = i0.ɵɵreference(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.producto)(\"ngIfElse\", _r1);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          }\n        },\n        dependencies: [i2.NgIf],\n        styles: [\".error[_ngcontent-%COMP%]{color:red;font-weight:700}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}